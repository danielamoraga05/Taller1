---
title: "Taller1"
author: "Daniela Moraga"
date: "23 de agosto de 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Exploracion de datos 
Los siguientes datos corresponden a la base de datos de la biodiversidad de especies reportadas para los parques de Madrid.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:



```{r cars}
library(tidyverse)
library(knitr)
library(stargazer)
library(dplyr)
library(devtools)
library(rmarkdown)
library(knitr)
library(stargazer)
library(data.table)
library(ggplot2)

species <- read.csv("C:/Users/Daniela Moraga/Desktop/Taller/species.csv")
parks <- read.csv("C:/Users/Daniela Moraga/Desktop/Taller/parks.csv")
colnames(species) <- c("Park", "ParkName", "Order", "Family", "ScientificName", "CommonNames",
                                "RecordStatus", "Occurrence", "Nativeness", "Abundance", "Seasonality", "Conservationstatus", "x14", "x15") 
colnames(parks) <- c("Parkcode", "ParkName", "State","Acres", "Latitude", "Longitude") 
#Mirar las especies en comparacion con la latitud.. y luego resumir en una tabla 
data <- select(species,Occurrence,Park,CommonNames, ParkName) 
data1 <- select(parks,ParkName,Latitude,Longitude) %>% filter(!is.na(Latitude)) %>% filter(!is.na(Longitude))
#quitar primero los que no tienen latitude y Longitud= na
data2<- data %>% full_join(data1)
data3<- data2 %>% group_by(ParkName, CommonNames,ParkName,Latitude) %>% filter(!is.na(Occurrence))%>% 
        filter(Occurrence == "Approved")%>% group_by(Latitude) %>% summarise(Riqueza=n())





```

## Including Plots

A continuacion se observa la grafica 1. Que corresponde a una regresion entre los valores de riqueza de especies con respecto a la latitud. 

```{r pressure, echo=FALSE}

ggplot(data3, aes(Latitude, Riqueza)) + 
  geom_point(aes(color =Latitude))+ geom_jitter(aes(color =Latitude))
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
